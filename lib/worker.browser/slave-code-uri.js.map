{"version":3,"sources":["../../src/worker.browser/slave-code-uri.js"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA,IAAI,mBAAmB,wCAAwC,8BAA/D;AACA,IAAI,gBAAgB,OAAO,aAAP,IAAwB,OAAO,eAAnD;;AAEA,IAAI,CAAC,aAAL,EAAoB;AAClB,MAAM,MAAM,OAAO,GAAP,IAAc,OAAO,SAAjC;;AAEA,MAAI,GAAJ,EAAS;AACP,oBAAgB,IAAI,eAApB;AACD,GAFD,MAEO;AACL,UAAM,IAAI,KAAJ,CAAU,wCAAV,CAAN;AACD;AACF;;AAED,IAAI,OAAO,OAAO,WAAd,KAA8B,UAA9B,IAA4C,OAAO,aAAP,KAAyB,UAAzE,EAAqF;AACnF,MAAM,cAAc,IAAI,OAAO,WAAX,EAApB;AACA,cAAY,MAAZ;AACA,qBAAmB,cAAc,YAAY,OAAZ,EAAd,CAAnB;AACD,CAJD,MAIO,IAAI,OAAO,OAAO,IAAd,KAAuB,UAAvB,IAAqC,OAAO,aAAP,KAAyB,UAAlE,EAA8E;AACnF,MAAM,OAAO,IAAI,OAAO,IAAX,CAAgB,qBAAhB,EAA+B,EAAE,MAAM,iBAAR,EAA/B,CAAb;AACA,qBAAmB,cAAc,IAAd,CAAnB;AACD;;kBAEc,gB","file":"slave-code-uri.js","sourcesContent":["import slaveCode from './slave-code';\n\nlet slaveCodeDataUri = 'data:text/javascript;charset=utf-8,' + encodeURI(slaveCode);\nlet createBlobURL = window.createBlobURL || window.createObjectURL;\n\nif (!createBlobURL) {\n  const URL = window.URL || window.webkitURL;\n\n  if (URL) {\n    createBlobURL = URL.createObjectURL;\n  } else {\n    throw new Error('No Blob creation implementation found.');\n  }\n}\n\nif (typeof window.BlobBuilder === 'function' && typeof createBlobURL === 'function') {\n  const blobBuilder = new window.BlobBuilder();\n  blobBuilder.append(slaveCode);\n  slaveCodeDataUri = createBlobURL(blobBuilder.getBlob());\n} else if (typeof window.Blob === 'function' && typeof createBlobURL === 'function') {\n  const blob = new window.Blob([ slaveCode ], { type: 'text/javascript' });\n  slaveCodeDataUri = createBlobURL(blob);\n}\n\nexport default slaveCodeDataUri;\n"]}